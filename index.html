<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Laundryâ€‘Room Gantt â€“ Kidâ€‘Friendly</title>
<!-- Google Fonts for a playful vibe -->
<link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600&display=swap" rel="stylesheet">
<style>
  html,body{height:100%;margin:0;background:#f5f7fa;font-family:Arial,Helvetica,sans-serif}
  h1{margin:12px;text-align:center;font-family:'Fredoka',sans-serif;font-weight:600;font-size:2rem;color:#333}
  #chart{width:100%;height:80vh}
  #hint{text-align:center;font-family:'Fredoka',sans-serif;font-size:1rem;margin-top:4px;color:#555}
  @media(max-width:600px){#chart{height:72vh}}
</style>
<script src="https://www.gstatic.com/charts/loader.js"></script>
<script>
  google.charts.load('current',{packages:['timeline']});
  google.charts.setOnLoadCallback(drawChart);

  const colorPalette=[
    '#ff6f61', // salmon
    '#6ec5ff', // sky
    '#ffd166', // sunflower
    '#06d6a0', // mint
    '#e14ecd', // magenta
    '#ffb5a7', // peach
    '#4cc9f0', // azure
    '#c77dff', // lavender
    '#70d6ff', // baby blue
    '#ffafcc'  // pink
  ];

  // Persist finished state in localStorage
  const doneKey='laundryRenoDone';
  let doneState=JSON.parse(localStorage.getItem(doneKey)||'{}');

  function saveDone(){localStorage.setItem(doneKey,JSON.stringify(doneState));}

  let chart,data,options,container;
  let originalStyles=[]; // keep original colors per row

  function d(y,m,day){return new Date(y,m,day);} // helper (month 0â€‘based)

  function buildData(){
    data=new google.visualization.DataTable();
    data.addColumn({type:'string',id:'Phase'});
    data.addColumn({type:'string',id:'Task'});
    data.addColumn({type:'date',id:'Start'});
    data.addColumn({type:'date',id:'End'});
    data.addColumn({type:'string',role:'style'});

    const tasks=[
      // phase, task, start, end
      ['Preâ€‘Renovation','ğŸ§¹ Purge & Sort',d(2025,5,1),d(2025,5,2)],
      ['Preâ€‘Renovation','ğŸ“ Measure & Plan',d(2025,5,2),d(2025,5,3)],
      ['Preâ€‘Renovation','ğŸ›’ Order Materials',d(2025,5,3),d(2025,5,5)],
      ['Preâ€‘Renovation','ğŸ“ Surface Prep & Masking',d(2025,5,6),d(2025,5,6)],

      ['Week 1: Light & Colour','ğŸ’¡ Swap Ceiling Lights',d(2025,5,7),d(2025,5,7)],
      ['Week 1: Light & Colour','ğŸ¨ Paint Accent Wall',d(2025,5,8),d(2025,5,8)],
      ['Week 1: Light & Colour','ğŸŒˆ Ceiling Paint & Cove LEDs',d(2025,5,9),d(2025,5,10)],

      ['Week 2: Floor & Smart','ğŸ‘¢ Remove Carpet / Prep',d(2025,5,14),d(2025,5,14)],
      ['Week 2: Floor & Smart','ğŸªµ Lay Vinyl Planks',d(2025,5,15),d(2025,5,15)],
      ['Week 2: Floor & Smart','ğŸŒ¡ï¸ Install Humidity Sensor + Fan',d(2025,5,16),d(2025,5,16)],

      ['Week 3: Storage Build','ğŸ›  Assemble PLATSA Cabinets',d(2025,5,21),d(2025,5,21)],
      ['Week 3: Storage Build','ğŸ”¨ Install Counter & Sink',d(2025,5,22),d(2025,5,22)],
      ['Week 3: Storage Build','ğŸ“¦ Mount BOAXEL System',d(2025,5,23),d(2025,5,23)],
      ['Week 3: Storage Build','ğŸšª Fit Sliding Curtain Track',d(2025,5,24),d(2025,5,24)],

      ['Week 4: Finishing','ğŸ¨ Spray Paint Visible Pipes',d(2025,5,28),d(2025,5,28)],
      ['Week 4: Finishing','ğŸ§º Install Pulley Drying Rack',d(2025,5,29),d(2025,5,29)],
      ['Week 4: Finishing','â˜• Coffee Nook & DÃ©cor',d(2025,5,30),d(2025,5,30)],
      ['Week 4: Finishing','âœ… QA + Snagâ€‘list Fixes',d(2025,6,1),d(2025,6,1)],

      ['Postâ€‘Renovation','ğŸ”§ Smartâ€‘Sensor Test & Tuning',d(2025,6,2),d(2025,6,2)],
      ['Postâ€‘Renovation','ğŸ“¸ Photo Docs / Celebrate',d(2025,6,3),d(2025,6,3)]
    ];

    tasks.forEach((t,idx)=>{
      const color=colorPalette[idx%colorPalette.length];
      originalStyles[idx]=`color:${color}`;
      data.addRow([t[0],t[1],t[2],t[3], doneState[idx]? 'color:#A0A0A0;stroke-dasharray:5 2' : originalStyles[idx]]);
    });
  }

  function drawChart(){
    if(!container){container=document.getElementById('chart');}
    chart=new google.visualization.Timeline(container);
    buildData();
    options={
      timeline:{showRowLabels:true,groupByRowLabel:true},
      avoidOverlappingGridLines:true,
      backgroundColor:'#f5f7fa',
      tooltip:{isHtml:true}
    };
    chart.draw(data,options);
    google.visualization.events.addListener(chart,'select',toggleDone);
  }

  function toggleDone(){
    const sel=chart.getSelection();
    if(!sel.length) return;
    const row=sel[0].row;
    doneState[row]=!doneState[row];
    saveDone();
    drawChart();
  }

  window.addEventListener('resize',()=>{if(chart) chart.draw(data,options);} );
</script>
</head>
<body>
  <h1>Laundryâ€‘Room Renovation â€“ Summerâ€¯2025</h1>
  <p id="hint">Click a bar when you finish a task â€“ it turns grey for a victory lap ğŸ</p>
  <div id="chart"></div>
</body>
</html>
